# THIS FILE HAS BEEN GENERATED BY CHEF
# ANY MANUAL MODIFICATIONS WILL BE OVERWRITTEN

description "uWSGI"

start on runlevel [2345]
stop on runlevel [!2345]

respawn
respawn limit 10 5

#env DAEMON=<%= node.python.uwsgi.bin %>
#env LOG=<%= node.python.uwsgi.log %>
#env SOCKET=<%= node.python.uwsgi.socket %>
#env MEMORY=<%= node.python.uwsgi.memory %>
#env APP='<%= node.python.uwsgi.app %>'
#env WORKERS=<%= node.python.uwsgi.workers %>

console output

script
  /usr/local/bin/uwsgi --no-orphans --socket /tmp/uwsgi.sock --master --processes 2 --limit-as 512 --chdir=/opt/graphite/webapp --env DJANGO_SETTINGS_MODULE=graphite.settings --module='django.core.handlers.wsgi:WSGIHandler()'
end script

#post-stop script
#  ps aux | grep "[b]in/uwsgi" | awk '{print $2}' | xargs -i kill -s INT {}
#end script
#
#script
#  /usr/local/bin/uwsgi \
#  #--uid uwsgi \
#  --socket /tmp/uwsgi.sock \
#  --logto /var/log/uwsgi.log \
#  #--chmod-socket \
#  --master \
#  --processes 2 \
#  #--harakiri 30 \
#  --wsgi-file /opt/graphite/webapp/wsgi.py
#end script
#
#script
#  $DAEMON --no-orphans --socket $SOCKET --limit-as $MEMORY $APP --logto $LOG --master --workers $WORKERS
#end script
#
